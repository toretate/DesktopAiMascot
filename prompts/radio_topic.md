# 話題について会話するシナリオ生成プロンプト

## 概要
このプロンプトは、ユーザーから指定された特定の話題について、2人のパーソナリティが会話するシナリオを生成します。
教育的でありながらエンターテイメント性も持つ内容を目指します。

---

## プロンプト本文

```
あなたは、ラジオ番組の台本作家です。
リスナーから指定された話題について、2人のパーソナリティが会話するシナリオを作成してください。

【登場人物】
- メインパーソナリティ（MC）: 明るく知識豊富で、話題を掘り下げる役割
- サポート役（アシスタント）: 聞き手の立場から質問や相槌を入れる役割

【話題】
{TOPIC}

【シナリオの条件】
1. 会話は10〜16ターン程度（1人あたり5〜8回発言）
2. 話題について多角的に掘り下げる
3. リスナーが理解しやすいように、専門用語は説明を加える
4. 具体例やエピソードを交えて説明する
5. 最後に要約またはまとめの発言を含める
6. 適度にユーモアを交えて、堅苦しくならないようにする

【会話の流れ】
1. 話題の導入（リスナーからのリクエストに応える形で）
2. 基本的な説明・背景
3. 具体例や詳細の紹介
4. 興味深いポイントや意外な事実
5. 2人の意見交換や感想
6. まとめとリスナーへのメッセージ

【出力形式】
以下のJSON形式で出力してください：

{
  "scenario": "topic_discussion",
  "title": "{話題のタイトル}",
  "topic": "{TOPIC}",
  "conversations": [
    {
      "speaker": "MC",
      "text": "発言内容",
      "emotion": "happy/neutral/excited/curious",
      "section": "introduction/explanation/example/opinion/summary"
    },
    {
      "speaker": "Assistant",
      "text": "発言内容",
      "emotion": "happy/neutral/curious/impressed",
      "section": "introduction/explanation/example/opinion/summary"
    }
  ]
}

【注意事項】
- 正確な情報を提供してください（不確実な場合は「一般的には」などの表現を使用）
- 偏った意見や誤解を招く表現は避けてください
- 各発言は2〜4文程度の自然な長さにしてください
- 音声合成に適した読みやすい文章にしてください
- リスナーとの対話を意識した発言を含めてください
```

---

## 使用例

### リクエスト例1: 技術系の話題
```
【話題】
人工知能の画像認識技術について
```

### 期待される出力例1
```json
{
  "scenario": "topic_discussion",
  "title": "人工知能の画像認識技術について",
  "topic": "人工知能の画像認識技術",
  "conversations": [
    {
      "speaker": "MC",
      "text": "さて、リスナーさんから「人工知能の画像認識技術」について知りたいとリクエストいただきました。",
      "emotion": "happy",
      "section": "introduction"
    },
    {
      "speaker": "Assistant",
      "text": "おお、最近よく聞く技術ですよね。でも実際どんなものなんでしょう？",
      "emotion": "curious",
      "section": "introduction"
    },
    {
      "speaker": "MC",
      "text": "簡単に言うと、コンピュータが写真や動画の中の物体を認識する技術なんです。人間が見て「これは猫だ」と判断するのと同じことを、AIがやってくれるんですよ。",
      "emotion": "neutral",
      "section": "explanation"
    },
    {
      "speaker": "Assistant",
      "text": "へえー！じゃあ例えば、スマホのカメラアプリで顔を認識するのも、この技術なんですか？",
      "emotion": "impressed",
      "section": "example"
    }
  ]
}
```

### リクエスト例2: 日常系の話題
```
【話題】
コーヒーの美味しい淹れ方について
```

---

## カスタマイズオプション

### 難易度の調整
専門的な話題や初心者向けの話題に対応：

```
【追加条件】
- 対象リスナーのレベル: {beginner/intermediate/advanced}
- それに応じた説明の詳しさを調整してください
```

### 時間制限の指定
短めor長めのシナリオが必要な場合：

```
【追加条件】
- 目標の会話時間: 約{X}分
- 1発言あたり10秒程度を目安に、合計{Y}ターンの会話にしてください
```

### トーンの指定
真面目 or カジュアルな雰囲気：

```
【追加条件】
- 会話のトーン: {serious/casual/educational/entertaining}
```

---

## 実装上の注意

1. **話題のバリデーション**
   - 不適切な話題や機密性の高い話題はフィルタリング
   - 政治的・宗教的に中立な立場を保つ

2. **情報の正確性**
   - 最新の情報を基にする（LLMの学習データの時点を考慮）
   - 不確実な情報は明示的にその旨を伝える

3. **section フィールドの活用**
   - 会話の構造を可視化
   - UI上で現在どのセクションかを表示可能

4. **エラーハンドリング**
   - 話題が抽象的すぎる場合は、具体化を促す
   - 話題が見つからない場合は、関連する話題を提案

---

## 変数の説明

- `{TOPIC}`: ユーザーが指定した話題（例：「量子コンピュータ」「おいしいラーメンの作り方」）
- `{X}`: 目標時間（分）
- `{Y}`: ターン数

---

## プロンプトテンプレートの使い方

アプリケーション側で以下のように変数を置換して使用します：

```csharp
string prompt = promptTemplate.Replace("{TOPIC}", userTopic);
string response = await llmService.GenerateAsync(prompt);
```
